// Test output.
import void testPrint(const ubyte * str, ...);

// The VTable hash table should have 20 slots,
// so this should cause multiple clashes.
interface HugeInterface {
	int getValue1();
	int getValue2();
	int getValue3();
	int getValue4();
	int getValue5();
	int getValue6();
	int getValue7();
	int getValue8();
	int getValue9();
	int getValue10();
	int getValue11();
	int getValue12();
	int getValue13();
	int getValue14();
	int getValue15();
	int getValue16();
	int getValue17();
	int getValue18();
	int getValue19();
	int getValue20();
	int getValue21();
	int getValue22();
	int getValue23();
	int getValue24();
	int getValue25();
	int getValue26();
	int getValue27();
	int getValue28();
	int getValue29();
	int getValue30();
}

class HugeClass (int value) {
	static Create(int value) {
		return @(value);
	}
	
	int getValue1() {
		testPrint(C"getValue1: value = %d", @value);
		return @value;
	}
	
	int getValue2() {
		testPrint(C"getValue2: value = %d", @value);
		return @value;
	}
	
	int getValue3() {
		testPrint(C"getValue3: value = %d", @value);
		return @value;
	}
	
	int getValue4() {
		testPrint(C"getValue4: value = %d", @value);
		return @value;
	}
	
	int getValue5() {
		testPrint(C"getValue5: value = %d", @value);
		return @value;
	}
	
	int getValue6() {
		testPrint(C"getValue6: value = %d", @value);
		return @value;
	}
	
	int getValue7() {
		testPrint(C"getValue7: value = %d", @value);
		return @value;
	}
	
	int getValue8() {
		testPrint(C"getValue8: value = %d", @value);
		return @value;
	}
	
	int getValue9() {
		testPrint(C"getValue9: value = %d", @value);
		return @value;
	}
	
	int getValue10() {
		testPrint(C"getValue10: value = %d", @value);
		return @value;
	}
	
	int getValue11() {
		testPrint(C"getValue11: value = %d", @value);
		return @value;
	}
	
	int getValue12() {
		testPrint(C"getValue12: value = %d", @value);
		return @value;
	}
	
	int getValue13() {
		testPrint(C"getValue13: value = %d", @value);
		return @value;
	}
	
	int getValue14() {
		testPrint(C"getValue14: value = %d", @value);
		return @value;
	}
	
	int getValue15() {
		testPrint(C"getValue15: value = %d", @value);
		return @value;
	}
	
	int getValue16() {
		testPrint(C"getValue16: value = %d", @value);
		return @value;
	}
	
	int getValue17() {
		testPrint(C"getValue17: value = %d", @value);
		return @value;
	}
	
	int getValue18() {
		testPrint(C"getValue18: value = %d", @value);
		return @value;
	}
	
	int getValue19() {
		testPrint(C"getValue19: value = %d", @value);
		return @value;
	}
	
	int getValue20() {
		testPrint(C"getValue20: value = %d", @value);
		return @value;
	}
	
	int getValue21() {
		testPrint(C"getValue21: value = %d", @value);
		return @value;
	}
	
	int getValue22() {
		testPrint(C"getValue22: value = %d", @value);
		return @value;
	}
	
	int getValue23() {
		testPrint(C"getValue23: value = %d", @value);
		return @value;
	}
	
	int getValue24() {
		testPrint(C"getValue24: value = %d", @value);
		return @value;
	}
	
	int getValue25() {
		testPrint(C"getValue25: value = %d", @value);
		return @value;
	}
	
	int getValue26() {
		testPrint(C"getValue26: value = %d", @value);
		return @value;
	}
	
	int getValue27() {
		testPrint(C"getValue27: value = %d", @value);
		return @value;
	}
	
	int getValue28() {
		testPrint(C"getValue28: value = %d", @value);
		return @value;
	}
	
	int getValue29() {
		testPrint(C"getValue29: value = %d", @value);
		return @value;
	}
	
	int getValue30() {
		testPrint(C"getValue30: value = %d", @value);
		return @value;
	}
	
}

void polymorphicPrint(HugeInterface& object) {
	testPrint(C"polymorphicPrint: Value = %d", object.getValue1());
	testPrint(C"polymorphicPrint: Value = %d", object.getValue2());
	testPrint(C"polymorphicPrint: Value = %d", object.getValue3());
	testPrint(C"polymorphicPrint: Value = %d", object.getValue4());
	testPrint(C"polymorphicPrint: Value = %d", object.getValue5());
	testPrint(C"polymorphicPrint: Value = %d", object.getValue6());
	testPrint(C"polymorphicPrint: Value = %d", object.getValue7());
	testPrint(C"polymorphicPrint: Value = %d", object.getValue8());
	testPrint(C"polymorphicPrint: Value = %d", object.getValue9());
	testPrint(C"polymorphicPrint: Value = %d", object.getValue10());
	testPrint(C"polymorphicPrint: Value = %d", object.getValue11());
	testPrint(C"polymorphicPrint: Value = %d", object.getValue12());
	testPrint(C"polymorphicPrint: Value = %d", object.getValue13());
	testPrint(C"polymorphicPrint: Value = %d", object.getValue14());
	testPrint(C"polymorphicPrint: Value = %d", object.getValue15());
	testPrint(C"polymorphicPrint: Value = %d", object.getValue16());
	testPrint(C"polymorphicPrint: Value = %d", object.getValue17());
	testPrint(C"polymorphicPrint: Value = %d", object.getValue18());
	testPrint(C"polymorphicPrint: Value = %d", object.getValue19());
	testPrint(C"polymorphicPrint: Value = %d", object.getValue20());
	testPrint(C"polymorphicPrint: Value = %d", object.getValue21());
	testPrint(C"polymorphicPrint: Value = %d", object.getValue22());
	testPrint(C"polymorphicPrint: Value = %d", object.getValue23());
	testPrint(C"polymorphicPrint: Value = %d", object.getValue24());
	testPrint(C"polymorphicPrint: Value = %d", object.getValue25());
	testPrint(C"polymorphicPrint: Value = %d", object.getValue26());
	testPrint(C"polymorphicPrint: Value = %d", object.getValue27());
	testPrint(C"polymorphicPrint: Value = %d", object.getValue28());
	testPrint(C"polymorphicPrint: Value = %d", object.getValue29());
	testPrint(C"polymorphicPrint: Value = %d", object.getValue30());
}

// Entry point.
export int testEntryPoint(unused int argc, unused ubyte ** argv) {
	auto instance = HugeClass(42);
	
	polymorphicPrint(instance);
	
	return 0;
}

